version: 0.1 # This is not a "version" number, do not change this line.

phases:
  pre_build:
    commands:
      - echo "Grabbing External Dependencies..."
      - go get github.com/fatih/color
      - go get github.com/bwmarrin/discordgo
      - go get github.com/mattn/go-sqlite3
      - echo "Moving files and changing directories."
      - mkdir -p /usr/local/go/src/truebot
      - mv * /usr/local/go/src/truebot/
      - cd /usr/local/go/src/truebot
  build:
    commands:
      - echo "Compiling..."
      - go build truebot
  post_build:
    commands:
      - echo "Build completed on $(date)"
artifacts:
  files:
    - truebot
    - appspec.yml
    - scripts/application_start.sh
    - scripts/before_install.sh
    - scripts/application_stop.sh
